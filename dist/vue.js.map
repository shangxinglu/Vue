{"version":3,"file":"vue.js","sources":["../src/core/instance/index.ts","../src/compiler/parse/parse-html.ts","../src/compiler/parse/index.ts","../src/compiler/index.ts","../src/platform/web/entry-runtime-with-compiler.ts"],"sourcesContent":["export default class Vue{\n\n}","\n// import {VNode} from 'src/type/vnode'\n// import {createVNode} from 'src/core/vdom/vnode'\nimport {HTMLTemplate} from 'src/type/compiler'\n\n// DOCTYPE标签\nconst doctypeReg = /^<!DOCTYPE [^>]+>/i\n\n// 开始标签开放正则\nconst startTagOpenReg = /^<([\\w\\-]+)/\n\n// 属性正则\nconst attributeReg = /^[\\s]+[(\\w\\-]+[\\s]*=[\\s]*\\\"([^\"]*?)\\\"/\n\n// 开始标签闭合正则\nconst startTagCloseReg = /^[\\s]*>/\n\n// 结束标签\nconst endTagReg = /^<\\/[\\w\\-]+>/\n\n// 注释\nconst commentReg = /^<!--[\\s\\S]*?-->/\n\n// 文本\nconst textReg = /^[\\s\\S]*?[^<]/\n\ntype MatchType = Array<string>\n\n\nexport function parseHTML(html:HTMLTemplate):void{\n    let startIndex:number,endIndex:number,index:number=0\n    \n    while(html){\n        // DOCTYPE标签\n        if(doctypeReg.test(html)){\n            const match = (html.match(doctypeReg)) as MatchType\n            crop(match[0])\n           \n            \n            continue\n            \n        }\n\n        // 注释\n        if(commentReg.test(html)){\n            const match = (html.match(commentReg.source)) as MatchType\n            crop(match[0])\n            continue\n        }\n\n        // 开始标签\n        if(startTagOpenReg.test(html)){\n           const match = (html.match(startTagOpenReg)) as MatchType\n             crop(match[0])\n\n             parseTagAttr()\n                continue\n        }\n\n        // 闭合标签\n        if(startTagCloseReg.test(html)){\n            const match = (html.match(startTagCloseReg)) as MatchType\n            crop(match[0])\n            continue\n        }\n\n        // 文本\n        if(textReg.test(html)){\n            const match = (html.match(textReg)) as MatchType\n            crop(match[0])\n            continue\n        }\n\n    }\n\n    // 匹配标签属性\n    function parseTagAttr(){\n        if(attributeReg.test(html)){\n            const match = (html.match(attributeReg)) as MatchType\n            crop(match[0])\n        }\n\n        parseTagClose()\n    }\n\n    // 匹配结束闭合\n    function parseTagClose(){\n        if(endTagReg.test(html)){\n            const match = (html.match(startTagCloseReg)) as MatchType\n            crop(match[0])\n        }\n    }\n\n    \n    // 剪裁html中已经匹配的字符串\n    function crop(str:string){\n        console.log(str);\n        \n        const len = str.length\n        html = html.substring(len)\n        startIndex = index\n        index+=len\n        endIndex = index\n    console.log(startIndex,endIndex,index);\n\n\n    }\n}\n\n","import {parseHTML} from './parse-html'\nimport {HTMLTemplate} from 'src/type/compiler'\n\n\n\nexport function parse(template:HTMLTemplate):void{\n    parseHTML(template)\n\n\n}\n\n","\nimport {HTMLTemplate} from 'src/type/compiler'\nimport {parse} from './parse'\n\n\nexport function compiler(template:HTMLTemplate):void{\n    parse(template)\n}\n","import Vue from './runtime/index'\nimport { compiler } from 'src/compiler'\n\n(Vue as any).compiler = compiler\nexport default Vue"],"names":[],"mappings":"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"}